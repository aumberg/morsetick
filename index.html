<!DOCTYPE html>
<html>
<head>
	<title>Morsetick</title>
	<style type="text/css">
		body { 
			background-color:#DDD;
			margin:20px 20px 100px 20px;
		}

		a {
			font-size: 20px;
		}

		table {
			border: 1px solid black;
			font-size: 30px;
			width:100%;
			min-height:100%;
			padding:20px;
			margin-bottom: 50px;
		}

		table caption {
			margin: 0px 0px 10px 0px;
		    font-size: 20px;
		}

		table td {
		    text-align: center;
		    color: #005;
		}

		table th {
			text-align: left;
		}

		ul, h3 {
			margin: 0px;
		}

		.description li {
			margin: 20px;
		}

		.main {
			display: none;
		}

		#program {
			text-align:center;
			line-height: 15px;
			margin: 15px;
		}

		#latin_text, #morse_code {
			font-size:25px;
			width:40%; 
			max-width:40%; 
		}

		#latin_text {
			float:left;
		}

		#arrows {
			float:left;
			min-width:18%;
			font-size:50px;
			text-align:center;
		}
	</style>
	<script type="text/javascript" src="morsetick.js"></script>
	<script type="text/javascript">
		$ = morsetick.$;

		morsetick["option console log"] = true;

		$(function () {
			$(".main").show();
			$("#error").hide();

			$("#option_program_description").text(morsetick["option program description"]);
			$("#option_program_version").text(morsetick["option program version"]);

			$("#mmm_links").click(morsetick["links"]);

			$("#learn").click(function() {
				$(window).scrollTop(1);

				$("table th")
					.css({"visibility":"hidden"})
					.prev().hover(
						function(){
							$(this).next().css({"visibility":"visible"});
						},
						function(){
							$(this).next().css({"visibility":"hidden"});
						});
			});

			$("#latin_text, #morse_code").keyup(function(event) {
				var request = $(this).val();
				var converted = morsetick["library morse"](request);
				var another = $("#latin_text, #morse_code").not(this);
				
				if (another.val() === converted) {
					return;
				}

				morsetick["stop timeouts"]();
				morsetick["memory timeout call"] = setTimeout(function() {
					morsetick["search link and play"](request);
				}, 1000);
			});

			morsetick["event keyup"] = function(request) {
				$("#latin_text").val(morsetick["memory current"]["latin"]);
				$("#morse_code").val(morsetick["memory current"]["morse"]);

				if (morsetick["memory audio is play"]) {
					$("#found").text("Dot duration = " + morsetick["memory dot duration"] + "ms.");
				}
			};

			morsetick["event play link"] = function(event) {
				if (!morsetick["memory audio is play"]) {
					return;
				}

				var last = morsetick["in history"]("last");

				$("#latin_text").val(last["latin"]);
				$("#morse_code").val(last["morse"]);
				$("#found").html(last["position"] + " <a href='" + last["link"] + "' target='_blank'>link</a>"
					+ " of " + last["links"].length + " is playing."
					+ " Dot duration = " + morsetick["memory dot duration"] + "ms.");
			};
		})
	</script>
</head>
<body>
	<h3 id="program">
		<a href="https://github.com/aumberg/morsetick">Morsetick</a>
		- <span id="option_program_description"></span>
		<br/>
		<br/>
		version <span id="option_program_version"> - program not loaded</span>
	</h3>

	<div id="error">Can not work in that browser</div>

	<div class="main">
		<textarea id="latin_text" rows="2" tabindex="1"></textarea>
		<div id="arrows">â‡„</div>
		<textarea id="morse_code" rows="2" tabindex="2"></textarea>
		
		<ul>
			<li id="found" class="morsetickThereNoLinks">
				Dot duration = 100ms.
			</li>
		</ul>

		<table>
			<caption><b>Morse code</b></caption>
			<tr><td>a</td><th>.-</th>    <td>b</td><th>-...</th>  <td>c</td><th>-.-.</th>  <td>d</td><th>-..</th></tr>
			<tr><td>e</td><th>.</th>     <td>f</td><th>..-.</th>  <td>g</td><th>--.</th>   <td>h</td><th>....</th></tr>
			<tr><td>i</td><th>..</th>    <td>j</td><th>.---</th>  <td>k</td><th>-.-</th>   <td>l</td><th>.-..</th></tr>
			<tr><td>m</td><th>--</th>    <td>n</td><th>-.</th>    <td>o</td><th>---</th>   <td>p</td><th>.--.</th></tr>
			<tr><td>q</td><th>--.-</th>  <td>r</td><th>.-.</th>   <td>s</td><th>...</th>   <td>t</td><th>-</th></tr>
			<tr><td>u</td><th>..-</th>   <td>v</td><th>...-</th>  <td>w</td><th>.--</th>   <td>x</td><th>-..-</th></tr>
			<tr><td>y</td><th>-.--</th>  <td>z</td><th>--..</th></tr>
			<tr><td><br></td></tr>
			<tr><td>1</td><th>.----</th> <td>2</td><th>..---</th> <td>3</td><th>...--</th> <td>4</td><th>....-</th> <td>5</td><th>.....</th></tr>
			<tr><td>6</td><th>-....</th> <td>7</td><th>--...</th> <td>8</td><th>---..</th> <td>9</td><th>----.</th> <td>0</td><th>-----</th></tr>
		</table>

		<ul class="description">
			<li>
				Ok, just press <b>control</b> key, or click on page. Type some text, like 
				<a href="http://www.html5guitartuner.com/notes/06-guitar-high-e-string.mp3" target="_blank">high e</a>
				, <a href="http://www.html5guitartuner.com/notes/05-guitar-b-string.mp3" target="_blank">b</a>
				, <a href="http://www.html5guitartuner.com/notes/04-guitar-g-string.mp3" target="_blank">g</a>
				, <a href="http://www.html5guitartuner.com/notes/03-guitar-d-string.mp3" target="_blank">d</a>
				, <a href="http://www.html5guitartuner.com/notes/02-guitar-a-string.mp3" target="_blank">a</a>
				, <a href="http://www.html5guitartuner.com/notes/01-guitar-low-e-string.mp3" target="_blank">low e</a>
				and <b>Morsetick</b> starts search music in current page and 
				<a href="https://soundcloud.com/" target="_blank">
					soundcloud
				</a>
			</li>
			<li>
				Drag and drop
				<a class="option_program_bookmark" href="javascript:(function(){var script=document.createElement('script');script.src='https://aumberg.github.io/morsetick/morsetick.js';document.body.appendChild(script);}())">
					Morsetick
				</a>
				link to bookmarks bar, or download
				<a href="https://github.com/aumberg/morsetick">
					project
				</a>
				to add your sound links into HTML 
			</li>
			<li>
				<button id="learn">Learn Morse code :)</button>
			</li>
			<li>
				<button id="mmm_links">Mmm... links )</button>
			</li>
			<li>
				List of commands:
				<select>
					<option>e - toggle play &amp; pause</option>
					<option>e n - next track</option>
					<option>e p - previous track</option>
					<option>e (position) - change track</option>
					<option>e e (text) - search with E word</option>
				</select>
			</li>
		</ul>
	</div>
</body>
</html>